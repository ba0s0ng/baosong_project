# 工业互联网机床状态监测平台使用说明

## 快速开始

### 1. 启动系统

**方法一：一键启动（推荐）**
- 双击 `一键启动.bat` 文件
- 等待系统自动启动完成

**方法二：手动启动**
- 打开命令提示符
- 激活虚拟环境：`venv-3.10\Scripts\activate`
- 进入项目目录：`cd industrial_iot_platform`
- 启动服务：`python -m uvicorn backend.simple_main:app --host 0.0.0.0 --port 8000`

### 2. 访问系统

启动成功后，在浏览器中访问：http://localhost:8000

## 系统功能介绍

### 主页面
- 系统概览和快速导航
- 实时系统状态显示
- 关键指标汇总
- 各功能模块入口

### 机床管理页面 (http://localhost:8000/machines)

**预置机床设备**：
系统默认已添加10款国内外主流机床品牌：

1. **DMG MORI CTX beta 800** (德国) - 数控车床
2. **MAZAK VARIAXIS i-700** (日本) - 加工中心
3. **STUDER S33** (瑞士) - 磨床
4. **沈阳机床CAK6150** (中国) - 数控车床
5. **HAAS VF-4SS** (美国) - 加工中心
6. **TRUMPF TruLaser 3030** (德国) - 激光切割机
7. **大连机床VDL-1000A** (中国) - 加工中心
8. **OKUMA GENOS L3000-M** (日本) - 数控车床
9. **FIDIA K193** (意大利) - 加工中心
10. **华中数控HMC500** (中国) - 加工中心

**功能特点**：
- 实时设备状态监控
- 设备详细信息查看
- 设备参数配置
- 运行历史记录
- 数字孪生与真实设备标识

### 仪表盘页面 (http://localhost:8000/dashboard)
- 实时数据监控
- 设备状态总览
- 关键性能指标（KPI）
- 实时图表和趋势分析
- WebSocket实时数据更新

### 数字孪生页面 (http://localhost:8000/digital-twin)
- 机床三维模型展示
- 物理仿真运行
- 虚实数据同步
- 预测性维护分析
- 健康评分计算

### 报警管理页面 (http://localhost:8000/alarms)
- 实时报警信息
- 报警历史记录
- 报警规则配置
- 报警统计分析
- 多级报警处理

### 数据分析页面 (http://localhost:8000/analytics)
- 历史数据查询
- 统计分析报表
- 趋势分析图表
- 设备效率分析
- 生产优化建议

### 数据库管理页面 (http://localhost:8000/database)
- 机床数据管理
- 数字孪生数据管理
- 历史数据管理
- 报警数据管理
- 数据同步功能
- 数据导出功能

### API文档页面 (http://localhost:8000/docs)
- 完整的API接口文档
- 在线接口测试
- 参数说明和示例
- 接口调用演示

## 核心功能操作

### 查看机床状态
1. 点击"机床管理"菜单
2. 查看10款预置机床的实时状态
3. 点击机床名称查看详细信息
4. 观察数字孪生与真实设备的区分标识

### 监控实时数据
1. 进入"仪表盘"页面
2. 观察实时数据图表
3. 数据每2秒自动更新
4. 支持多机床同时监控

### 数字孪生仿真
1. 访问"数字孪生"页面
2. 查看三维机床模型
3. 观察物理仿真运行
4. 分析健康评分和预测数据

### 查看报警信息
1. 点击"报警管理"菜单
2. 查看当前活跃报警
3. 点击报警查看详细信息
4. 支持报警确认和处理

### 数据分析
1. 进入"数据分析"页面
2. 选择时间范围和设备
3. 查看统计图表和趋势
4. 生成分析报告

### 数据库管理
1. 访问"数据库管理"页面
2. 管理机床数据和孪生数据
3. 执行数据同步操作
4. 导出数据进行备份

## 数据同步机制

### 虚拟设备与真实设备
- 所有预置机床默认为虚拟设备（is_virtual: true）
- 通过数字孪生系统模拟生成运行数据
- 支持真实机床接入配置
- 数据库字段区分虚拟和真实设备

### 数据一致性保证
- 机床数据自动同步到各个模块
- 实时数据通过WebSocket推送
- 历史数据定期存储
- 报警数据实时生成和更新

### 真实设备接入
1. 在数据库管理页面配置设备
2. 设置is_virtual字段为false
3. 配置MQTT或其他通信协议
4. 建立设备驱动连接

## 系统配置

### 设备配置
- 在机床管理页面添加新设备
- 配置设备参数和通信设置
- 设置设备监控规则
- 区分虚拟和真实设备

### 报警配置
- 在报警管理页面设置报警规则
- 配置报警阈值和条件
- 设置报警通知方式
- 支持多级报警处理

### 数字孪生配置
- 配置物理仿真参数
- 设置健康评分算法
- 调整预测模型参数
- 同步虚实数据

## 技术特性

### 实时性能
- WebSocket实时数据推送
- 2秒数据更新频率
- 报警响应时间<2秒
- 支持大规模并发访问

### 数据处理
- 时序数据存储和分析
- 历史数据查询和统计
- 数据质量检查和清洗
- 多维度数据关联分析

### 系统架构
- 基于FastAPI的高性能后端
- 支持异步数据处理
- 模块化设计便于扩展
- 容器化部署支持

## 故障排除

### 无法访问网页
- 检查服务器是否正常启动
- 确认端口8000未被占用
- 检查防火墙设置
- 验证虚拟环境是否激活

### 数据不更新
- 检查WebSocket连接状态
- 刷新浏览器页面
- 重启服务器
- 查看控制台错误信息

### 启动失败
- 检查Python环境是否正确
- 确认依赖包已安装
- 查看错误日志信息
- 使用一键启动脚本

### 机床数据异常
- 检查数据模拟器运行状态
- 验证数据库连接
- 重置机床数据
- 同步虚实数据

## 开发信息

- **开发单位**：沈阳理工大学
- **开发者**：赵峰、王昊
- **版本**：V2.0.0
- **技术栈**：Python + FastAPI + WebSocket + 数字孪生
- **测试环境**：venv-3.10虚拟环境

## 技术支持

如需技术支持，请：
1. 查看启动说明文档
2. 检查系统日志信息
3. 访问API文档页面
4. 联系开发团队

---

**更新日期**：2025年10月  
**文档版本**：V2.0
